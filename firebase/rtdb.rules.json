{
  "rules": {
    "v1": {
      "themes": {
        ".read": true,
        "$themeId": {
          ".write": "root.child('admins').child(auth.uid).val() === true",
          ".validate": "newData.hasChildren(['id', 'title', 'subtitle', 'pitch', 'durationMin'])",
          "id": {
            ".validate": "newData.isString() && newData.val().length > 0"
          },
          "title": {
            ".validate": "newData.isString() && newData.val().length > 0 && newData.val().length <= 100"
          },
          "subtitle": {
            ".validate": "newData.isString() && newData.val().length <= 200"
          },
          "pitch": {
            ".validate": "newData.isString() && newData.val().length <= 500"
          },
          "durationMin": {
            ".validate": "newData.isNumber() && newData.val() > 0"
          },
          "vibeTags": {
            ".validate": "newData.hasChildren()"
          },
          "materials": {
            ".validate": "newData.hasChildren()"
          },
          "rules": {
            ".validate": "newData.hasChildren()"
          },
          "steps": {
            ".validate": "newData.hasChildren()"
          },
          "hostScript": {
            ".validate": "newData.hasChildren()"
          },
          "prompts": {
            ".validate": "newData.hasChildren()"
          }
        }
      },
      "participants": {
        ".read": true,
        ".write": "root.child('admins').child(auth.uid).val() === true",
        ".validate": "newData.hasChildren()"
      },
      "meta": {
        ".read": true,
        ".write": "root.child('admins').child(auth.uid).val() === true"
      }
    },
    "admins": {
      "$uid": {
        ".read": "auth != null",
        ".write": false
      }
    }
  }
}
